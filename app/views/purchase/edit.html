<div class="no-pad-bot user">
    <div ng-include="'views/user/components/header.html'"></div>

    <div class="container">

        <div ng-include="'views/user/components/profile_actions.html'"></div>

        <div class="col-sm-9 col-md-9 col-lg-9">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="panel-title">
                        Detalhes da Compra
                    </div>
                </div>

                <div class="panel-body">
                    <div class="container-fluid">
                        <br>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Nome do Item</label>
                                <div class="col-sm-10">
                                    <p>{{purchaseDetailCtrl.product.title}}
                                        <a ng-href="#/auctions/{{purchaseDetailCtrl.purchase.auctionId}}">Ver leilão</a>
                                    </p>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Descrição</label>
                                <div class="col-sm-10">
                                    <p>{{purchaseDetailCtrl.product.description}}</p>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Vendedor</label>

                                <div class="col-sm-10">
                                    {{purchaseDetailCtrl.donorUser.name}}
                                </div>
                                <div ng-if="purchaseDetailCtrl.purchase.isPaid">
                                    <div class="col-sm-10 col-sm-offset-2">
                                        {{purchaseDetailCtrl.donorUser.emails[0]}}
                                    </div>
                                    <div class="col-sm-10 col-sm-offset-2">
                                        {{purchaseDetailCtrl.donorUser.telephones[0]}}
                                    </div>
                                </div>
                                <div ng-if="!purchaseDetailCtrl.purchase.isPaid">
                                    <div class="col-sm-10 col-sm-offset-2">
                                        <i>Realize o pagamento para visualizar as informações para contato do
                                            doador.</i>
                                    </div>
                                </div>

                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Instituição</label>
                                <div class="col-sm-10">
                                    {{purchaseDetailCtrl.institution.name}}
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Valor</label>
                                <div class="col-sm-10">
                                    {{purchaseDetailCtrl.purchase.maxBid | currency}} (taxa adiministrativa: R$
                                    0,00)
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Pagamento</label>
                                <div class="col-sm-10">
                                    {{purchaseDetailCtrl.purchase.isPaid ? 'Pago':'Pendente'}}

                                    <div class="pull-right">
                                        <button class="btn btn-primary" ng-click="purchaseDetailCtrl.pay()"
                                                ng-disabled="purchaseDetailCtrl.purchase.isPaid">
                                            <i class="fa fa-money"></i> &nbsp; Pagar esta compra
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label text-right">Entrega</label>
                                <div class="col-sm-10">
                                    {{purchaseDetailCtrl.purchase.isDelivered ? 'Entregue':'Pendente'}}
                                    <div class="pull-right">
                                        <button type="submit" class="btn btn-success"
                                                ng-disabled="purchaseDetailCtrl.purchase.isDelivered||!purchaseDetailCtrl.purchase.isPaid"
                                                ng-click="purchaseDetailCtrl.confirmDelivery()">
                                            <i class="fa fa-check"></i> &nbsp; Confirmar Recebimento
                                        </button>
                                    </div>
                                </div>
                            </div>

                        <div class="form-group row">
                            <div class="col-sm-10 col-lg-offset-2 text-right">
                                <div class="text-left">
                                    *Caso não efetue o pagamento, a compra sera cancelada em 7 dias.
                                </div>
                                <div class="text-left">
                                    Se deseja cancelar a compra e já efetou o pagamento, entre em contato através do
                                    email:
                                    contato@lancesolidario.com.br.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
